;buildInfoPackage: chisel3, version: 3.4.3, scalaVersion: 2.12.12, sbtVersion: 1.3.10
circuit OCPburst_SPI_memory : 
  module SPI : 
    input clock : Clock
    input reset : Reset
    output io : {flip ReadEnable : UInt<1>, flip WriteEnable : UInt<1>, flip Address : UInt<24>, flip WriteData : UInt<32>[4], flip ByteEnable : UInt<16>, ReadData : UInt<32>[4], DataValid : UInt<1>, WriteCompleted : UInt<1>, CE : UInt<1>, MOSI : UInt<1>, flip MISO : UInt<1>, CntReg : UInt<8>, PosReg : UInt<4>}
    
    io.CE <= UInt<1>("h01") @[SPI.scala 36:9]
    io.MOSI <= UInt<1>("h00") @[SPI.scala 37:11]
    io.DataValid <= UInt<1>("h00") @[SPI.scala 38:16]
    io.DataValid <= UInt<1>("h00") @[SPI.scala 40:16]
    io.ReadData[0] <= UInt<1>("h00") @[SPI.scala 41:18]
    io.ReadData[1] <= UInt<1>("h00") @[SPI.scala 42:18]
    io.ReadData[2] <= UInt<1>("h00") @[SPI.scala 43:18]
    io.ReadData[3] <= UInt<1>("h00") @[SPI.scala 44:18]
    io.WriteCompleted <= UInt<1>("h00") @[SPI.scala 46:21]
    reg StateReg : UInt<3>, clock with : (reset => (reset, UInt<3>("h00"))) @[SPI.scala 49:25]
    reg SubStateReg : UInt<3>, clock with : (reset => (reset, UInt<3>("h00"))) @[SPI.scala 52:28]
    reg CntReg : UInt<8>, clock with : (reset => (reset, UInt<8>("h00"))) @[SPI.scala 54:23]
    io.CntReg <= CntReg @[SPI.scala 55:13]
    reg TempAddress : UInt<24>, clock with : (reset => (reset, UInt<24>("h00"))) @[SPI.scala 62:28]
    reg PosReg : UInt<4>, clock with : (reset => (reset, UInt<4>("h00"))) @[SPI.scala 65:23]
    io.PosReg <= PosReg @[SPI.scala 66:13]
    node _T = eq(UInt<3>("h00"), StateReg) @[Conditional.scala 37:30]
    when _T : @[Conditional.scala 40:58]
      io.CE <= UInt<1>("h00") @[SPI.scala 70:13]
      node _T_1 = sub(UInt<3>("h07"), CntReg) @[SPI.scala 71:37]
      node _T_2 = tail(_T_1, 1) @[SPI.scala 71:37]
      node _T_3 = dshr(UInt<8>("h066"), _T_2) @[SPI.scala 71:32]
      node _T_4 = bits(_T_3, 0, 0) @[SPI.scala 71:32]
      io.MOSI <= _T_4 @[SPI.scala 71:15]
      node _T_5 = add(CntReg, UInt<1>("h01")) @[SPI.scala 72:24]
      node _T_6 = tail(_T_5, 1) @[SPI.scala 72:24]
      CntReg <= _T_6 @[SPI.scala 72:14]
      node _T_7 = eq(CntReg, UInt<3>("h07")) @[SPI.scala 74:19]
      when _T_7 : @[SPI.scala 74:28]
        io.CE <= UInt<1>("h01") @[SPI.scala 75:15]
        CntReg <= UInt<1>("h00") @[SPI.scala 76:16]
        io.MOSI <= UInt<1>("h00") @[SPI.scala 77:17]
        StateReg <= UInt<3>("h01") @[SPI.scala 79:18]
        skip @[SPI.scala 74:28]
      skip @[Conditional.scala 40:58]
    else : @[Conditional.scala 39:67]
      node _T_8 = eq(UInt<3>("h01"), StateReg) @[Conditional.scala 37:30]
      when _T_8 : @[Conditional.scala 39:67]
        io.CE <= UInt<1>("h00") @[SPI.scala 83:13]
        node _T_9 = sub(UInt<3>("h07"), CntReg) @[SPI.scala 84:31]
        node _T_10 = tail(_T_9, 1) @[SPI.scala 84:31]
        node _T_11 = dshr(UInt<8>("h099"), _T_10) @[SPI.scala 84:26]
        node _T_12 = bits(_T_11, 0, 0) @[SPI.scala 84:26]
        io.MOSI <= _T_12 @[SPI.scala 84:15]
        node _T_13 = add(CntReg, UInt<1>("h01")) @[SPI.scala 85:24]
        node _T_14 = tail(_T_13, 1) @[SPI.scala 85:24]
        CntReg <= _T_14 @[SPI.scala 85:14]
        node _T_15 = eq(CntReg, UInt<3>("h07")) @[SPI.scala 87:19]
        when _T_15 : @[SPI.scala 87:28]
          io.CE <= UInt<1>("h01") @[SPI.scala 88:15]
          CntReg <= UInt<1>("h00") @[SPI.scala 89:16]
          io.MOSI <= UInt<1>("h00") @[SPI.scala 90:17]
          when io.ReadEnable : @[SPI.scala 92:29]
            StateReg <= UInt<3>("h03") @[SPI.scala 93:20]
            skip @[SPI.scala 92:29]
          else : @[SPI.scala 95:36]
            when io.WriteEnable : @[SPI.scala 95:36]
              StateReg <= UInt<3>("h04") @[SPI.scala 96:20]
              skip @[SPI.scala 95:36]
            else : @[SPI.scala 98:21]
              StateReg <= UInt<3>("h02") @[SPI.scala 99:20]
              skip @[SPI.scala 98:21]
          skip @[SPI.scala 87:28]
        skip @[Conditional.scala 39:67]
      else : @[Conditional.scala 39:67]
        node _T_16 = eq(UInt<3>("h02"), StateReg) @[Conditional.scala 37:30]
        when _T_16 : @[Conditional.scala 39:67]
          io.CE <= UInt<1>("h01") @[SPI.scala 104:13]
          io.DataValid <= UInt<1>("h00") @[SPI.scala 105:20]
          SubStateReg <= UInt<3>("h00") @[SPI.scala 106:19]
          when io.ReadEnable : @[SPI.scala 108:27]
            StateReg <= UInt<3>("h03") @[SPI.scala 109:18]
            skip @[SPI.scala 108:27]
          else : @[SPI.scala 111:34]
            when io.WriteEnable : @[SPI.scala 111:34]
              StateReg <= UInt<3>("h04") @[SPI.scala 112:18]
              skip @[SPI.scala 111:34]
          skip @[Conditional.scala 39:67]
        else : @[Conditional.scala 39:67]
          node _T_17 = eq(UInt<3>("h03"), StateReg) @[Conditional.scala 37:30]
          when _T_17 : @[Conditional.scala 39:67]
            node _T_18 = eq(UInt<3>("h00"), SubStateReg) @[Conditional.scala 37:30]
            when _T_18 : @[Conditional.scala 40:58]
              io.CE <= UInt<1>("h00") @[SPI.scala 118:17]
              node _T_19 = sub(UInt<3>("h07"), CntReg) @[SPI.scala 119:37]
              node _T_20 = tail(_T_19, 1) @[SPI.scala 119:37]
              node _T_21 = dshr(UInt<8>("h03"), _T_20) @[SPI.scala 119:32]
              node _T_22 = bits(_T_21, 0, 0) @[SPI.scala 119:32]
              io.MOSI <= _T_22 @[SPI.scala 119:19]
              node _T_23 = add(CntReg, UInt<1>("h01")) @[SPI.scala 120:28]
              node _T_24 = tail(_T_23, 1) @[SPI.scala 120:28]
              CntReg <= _T_24 @[SPI.scala 120:18]
              node _T_25 = eq(CntReg, UInt<3>("h07")) @[SPI.scala 122:23]
              when _T_25 : @[SPI.scala 122:32]
                CntReg <= UInt<1>("h00") @[SPI.scala 123:20]
                SubStateReg <= UInt<3>("h01") @[SPI.scala 124:25]
                skip @[SPI.scala 122:32]
              skip @[Conditional.scala 40:58]
            else : @[Conditional.scala 39:67]
              node _T_26 = eq(UInt<3>("h01"), SubStateReg) @[Conditional.scala 37:30]
              when _T_26 : @[Conditional.scala 39:67]
                node _T_27 = sub(UInt<5>("h018"), CntReg) @[SPI.scala 129:38]
                node _T_28 = tail(_T_27, 1) @[SPI.scala 129:38]
                node _T_29 = dshr(io.Address, _T_28) @[SPI.scala 129:32]
                node _T_30 = bits(_T_29, 0, 0) @[SPI.scala 129:32]
                io.MOSI <= _T_30 @[SPI.scala 129:19]
                node _T_31 = add(CntReg, UInt<1>("h01")) @[SPI.scala 130:28]
                node _T_32 = tail(_T_31, 1) @[SPI.scala 130:28]
                CntReg <= _T_32 @[SPI.scala 130:18]
                node _T_33 = eq(CntReg, UInt<5>("h017")) @[SPI.scala 132:23]
                when _T_33 : @[SPI.scala 132:33]
                  CntReg <= UInt<1>("h00") @[SPI.scala 133:20]
                  SubStateReg <= UInt<3>("h03") @[SPI.scala 134:25]
                  skip @[SPI.scala 132:33]
                skip @[Conditional.scala 39:67]
              else : @[Conditional.scala 39:67]
                node _T_34 = eq(UInt<3>("h03"), SubStateReg) @[Conditional.scala 37:30]
                when _T_34 : @[Conditional.scala 39:67]
                  reg hi : UInt<128>, clock with : (reset => (reset, UInt<128>("h00"))) @[SPI.scala 140:32]
                  node _T_35 = cat(hi, io.MISO) @[Cat.scala 30:58]
                  hi <= _T_35 @[SPI.scala 141:19]
                  node _T_36 = add(CntReg, UInt<1>("h01")) @[SPI.scala 143:28]
                  node _T_37 = tail(_T_36, 1) @[SPI.scala 143:28]
                  CntReg <= _T_37 @[SPI.scala 143:18]
                  node _T_38 = eq(CntReg, UInt<7>("h07f")) @[SPI.scala 144:23]
                  when _T_38 : @[SPI.scala 144:34]
                    node _T_39 = bits(hi, 127, 96) @[SPI.scala 145:38]
                    io.ReadData[0] <= _T_39 @[SPI.scala 145:28]
                    node _T_40 = bits(hi, 95, 64) @[SPI.scala 146:38]
                    io.ReadData[1] <= _T_40 @[SPI.scala 146:28]
                    node _T_41 = bits(hi, 63, 32) @[SPI.scala 147:38]
                    io.ReadData[2] <= _T_41 @[SPI.scala 147:28]
                    node _T_42 = bits(hi, 31, 0) @[SPI.scala 148:38]
                    io.ReadData[3] <= _T_42 @[SPI.scala 148:28]
                    io.DataValid <= UInt<1>("h01") @[SPI.scala 150:26]
                    StateReg <= UInt<3>("h02") @[SPI.scala 152:22]
                    skip @[SPI.scala 144:34]
                  skip @[Conditional.scala 39:67]
            skip @[Conditional.scala 39:67]
          else : @[Conditional.scala 39:67]
            node _T_43 = eq(UInt<3>("h04"), StateReg) @[Conditional.scala 37:30]
            when _T_43 : @[Conditional.scala 39:67]
              SubStateReg <= UInt<3>("h04") @[SPI.scala 158:19]
              node _T_44 = eq(UInt<3>("h04"), SubStateReg) @[Conditional.scala 37:30]
              when _T_44 : @[Conditional.scala 40:58]
                wire _WIRE : UInt<1>[17] @[SPI.scala 162:27]
                _WIRE[0] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[1] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[2] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[3] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[4] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[5] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[6] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[7] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[8] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[9] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[10] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[11] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[12] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[13] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[14] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[15] <= UInt<1>("h00") @[SPI.scala 164:22]
                _WIRE[16] <= UInt<1>("h00") @[SPI.scala 164:22]
                node _T_45 = eq(UInt<1>("h00"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_46 = bits(io.ByteEnable, 0, 0) @[SPI.scala 172:46]
                node _T_47 = and(_T_45, _T_46) @[SPI.scala 172:30]
                node _T_48 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_49 = and(_T_47, _T_48) @[SPI.scala 172:50]
                when _T_49 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[1] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[0] : @[SPI.scala 176:33]
                    _WIRE[1] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_50 = gt(UInt<1>("h00"), PosReg) @[SPI.scala 179:28]
                    node _T_51 = bits(io.ByteEnable, 0, 0) @[SPI.scala 179:53]
                    node _T_52 = and(_T_50, _T_51) @[SPI.scala 179:37]
                    when _T_52 : @[SPI.scala 179:57]
                      node _T_53 = shl(UInt<1>("h00"), 3) @[SPI.scala 180:48]
                      node _T_54 = add(io.Address, _T_53) @[SPI.scala 180:41]
                      node _T_55 = tail(_T_54, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_55 @[SPI.scala 180:27]
                      PosReg <= UInt<1>("h00") @[SPI.scala 181:22]
                      _WIRE[1] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[1] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_56 = eq(UInt<1>("h01"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_57 = bits(io.ByteEnable, 1, 1) @[SPI.scala 172:46]
                node _T_58 = and(_T_56, _T_57) @[SPI.scala 172:30]
                node _T_59 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_60 = and(_T_58, _T_59) @[SPI.scala 172:50]
                when _T_60 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[2] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[1] : @[SPI.scala 176:33]
                    _WIRE[2] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_61 = gt(UInt<1>("h01"), PosReg) @[SPI.scala 179:28]
                    node _T_62 = bits(io.ByteEnable, 1, 1) @[SPI.scala 179:53]
                    node _T_63 = and(_T_61, _T_62) @[SPI.scala 179:37]
                    when _T_63 : @[SPI.scala 179:57]
                      node _T_64 = shl(UInt<1>("h01"), 3) @[SPI.scala 180:48]
                      node _T_65 = add(io.Address, _T_64) @[SPI.scala 180:41]
                      node _T_66 = tail(_T_65, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_66 @[SPI.scala 180:27]
                      PosReg <= UInt<1>("h01") @[SPI.scala 181:22]
                      _WIRE[2] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[2] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_67 = eq(UInt<2>("h02"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_68 = bits(io.ByteEnable, 2, 2) @[SPI.scala 172:46]
                node _T_69 = and(_T_67, _T_68) @[SPI.scala 172:30]
                node _T_70 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_71 = and(_T_69, _T_70) @[SPI.scala 172:50]
                when _T_71 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[3] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[2] : @[SPI.scala 176:33]
                    _WIRE[3] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_72 = gt(UInt<2>("h02"), PosReg) @[SPI.scala 179:28]
                    node _T_73 = bits(io.ByteEnable, 2, 2) @[SPI.scala 179:53]
                    node _T_74 = and(_T_72, _T_73) @[SPI.scala 179:37]
                    when _T_74 : @[SPI.scala 179:57]
                      node _T_75 = shl(UInt<2>("h02"), 3) @[SPI.scala 180:48]
                      node _T_76 = add(io.Address, _T_75) @[SPI.scala 180:41]
                      node _T_77 = tail(_T_76, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_77 @[SPI.scala 180:27]
                      PosReg <= UInt<2>("h02") @[SPI.scala 181:22]
                      _WIRE[3] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[3] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_78 = eq(UInt<2>("h03"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_79 = bits(io.ByteEnable, 3, 3) @[SPI.scala 172:46]
                node _T_80 = and(_T_78, _T_79) @[SPI.scala 172:30]
                node _T_81 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_82 = and(_T_80, _T_81) @[SPI.scala 172:50]
                when _T_82 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[4] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[3] : @[SPI.scala 176:33]
                    _WIRE[4] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_83 = gt(UInt<2>("h03"), PosReg) @[SPI.scala 179:28]
                    node _T_84 = bits(io.ByteEnable, 3, 3) @[SPI.scala 179:53]
                    node _T_85 = and(_T_83, _T_84) @[SPI.scala 179:37]
                    when _T_85 : @[SPI.scala 179:57]
                      node _T_86 = shl(UInt<2>("h03"), 3) @[SPI.scala 180:48]
                      node _T_87 = add(io.Address, _T_86) @[SPI.scala 180:41]
                      node _T_88 = tail(_T_87, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_88 @[SPI.scala 180:27]
                      PosReg <= UInt<2>("h03") @[SPI.scala 181:22]
                      _WIRE[4] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[4] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_89 = eq(UInt<3>("h04"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_90 = bits(io.ByteEnable, 4, 4) @[SPI.scala 172:46]
                node _T_91 = and(_T_89, _T_90) @[SPI.scala 172:30]
                node _T_92 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_93 = and(_T_91, _T_92) @[SPI.scala 172:50]
                when _T_93 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[5] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[4] : @[SPI.scala 176:33]
                    _WIRE[5] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_94 = gt(UInt<3>("h04"), PosReg) @[SPI.scala 179:28]
                    node _T_95 = bits(io.ByteEnable, 4, 4) @[SPI.scala 179:53]
                    node _T_96 = and(_T_94, _T_95) @[SPI.scala 179:37]
                    when _T_96 : @[SPI.scala 179:57]
                      node _T_97 = shl(UInt<3>("h04"), 3) @[SPI.scala 180:48]
                      node _T_98 = add(io.Address, _T_97) @[SPI.scala 180:41]
                      node _T_99 = tail(_T_98, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_99 @[SPI.scala 180:27]
                      PosReg <= UInt<3>("h04") @[SPI.scala 181:22]
                      _WIRE[5] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[5] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_100 = eq(UInt<3>("h05"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_101 = bits(io.ByteEnable, 5, 5) @[SPI.scala 172:46]
                node _T_102 = and(_T_100, _T_101) @[SPI.scala 172:30]
                node _T_103 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_104 = and(_T_102, _T_103) @[SPI.scala 172:50]
                when _T_104 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[6] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[5] : @[SPI.scala 176:33]
                    _WIRE[6] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_105 = gt(UInt<3>("h05"), PosReg) @[SPI.scala 179:28]
                    node _T_106 = bits(io.ByteEnable, 5, 5) @[SPI.scala 179:53]
                    node _T_107 = and(_T_105, _T_106) @[SPI.scala 179:37]
                    when _T_107 : @[SPI.scala 179:57]
                      node _T_108 = shl(UInt<3>("h05"), 3) @[SPI.scala 180:48]
                      node _T_109 = add(io.Address, _T_108) @[SPI.scala 180:41]
                      node _T_110 = tail(_T_109, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_110 @[SPI.scala 180:27]
                      PosReg <= UInt<3>("h05") @[SPI.scala 181:22]
                      _WIRE[6] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[6] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_111 = eq(UInt<3>("h06"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_112 = bits(io.ByteEnable, 6, 6) @[SPI.scala 172:46]
                node _T_113 = and(_T_111, _T_112) @[SPI.scala 172:30]
                node _T_114 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_115 = and(_T_113, _T_114) @[SPI.scala 172:50]
                when _T_115 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[7] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[6] : @[SPI.scala 176:33]
                    _WIRE[7] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_116 = gt(UInt<3>("h06"), PosReg) @[SPI.scala 179:28]
                    node _T_117 = bits(io.ByteEnable, 6, 6) @[SPI.scala 179:53]
                    node _T_118 = and(_T_116, _T_117) @[SPI.scala 179:37]
                    when _T_118 : @[SPI.scala 179:57]
                      node _T_119 = shl(UInt<3>("h06"), 3) @[SPI.scala 180:48]
                      node _T_120 = add(io.Address, _T_119) @[SPI.scala 180:41]
                      node _T_121 = tail(_T_120, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_121 @[SPI.scala 180:27]
                      PosReg <= UInt<3>("h06") @[SPI.scala 181:22]
                      _WIRE[7] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[7] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_122 = eq(UInt<3>("h07"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_123 = bits(io.ByteEnable, 7, 7) @[SPI.scala 172:46]
                node _T_124 = and(_T_122, _T_123) @[SPI.scala 172:30]
                node _T_125 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_126 = and(_T_124, _T_125) @[SPI.scala 172:50]
                when _T_126 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[8] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[7] : @[SPI.scala 176:33]
                    _WIRE[8] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_127 = gt(UInt<3>("h07"), PosReg) @[SPI.scala 179:28]
                    node _T_128 = bits(io.ByteEnable, 7, 7) @[SPI.scala 179:53]
                    node _T_129 = and(_T_127, _T_128) @[SPI.scala 179:37]
                    when _T_129 : @[SPI.scala 179:57]
                      node _T_130 = shl(UInt<3>("h07"), 3) @[SPI.scala 180:48]
                      node _T_131 = add(io.Address, _T_130) @[SPI.scala 180:41]
                      node _T_132 = tail(_T_131, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_132 @[SPI.scala 180:27]
                      PosReg <= UInt<3>("h07") @[SPI.scala 181:22]
                      _WIRE[8] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[8] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_133 = eq(UInt<4>("h08"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_134 = bits(io.ByteEnable, 8, 8) @[SPI.scala 172:46]
                node _T_135 = and(_T_133, _T_134) @[SPI.scala 172:30]
                node _T_136 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_137 = and(_T_135, _T_136) @[SPI.scala 172:50]
                when _T_137 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[9] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[8] : @[SPI.scala 176:33]
                    _WIRE[9] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_138 = gt(UInt<4>("h08"), PosReg) @[SPI.scala 179:28]
                    node _T_139 = bits(io.ByteEnable, 8, 8) @[SPI.scala 179:53]
                    node _T_140 = and(_T_138, _T_139) @[SPI.scala 179:37]
                    when _T_140 : @[SPI.scala 179:57]
                      node _T_141 = shl(UInt<4>("h08"), 3) @[SPI.scala 180:48]
                      node _T_142 = add(io.Address, _T_141) @[SPI.scala 180:41]
                      node _T_143 = tail(_T_142, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_143 @[SPI.scala 180:27]
                      PosReg <= UInt<4>("h08") @[SPI.scala 181:22]
                      _WIRE[9] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[9] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_144 = eq(UInt<4>("h09"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_145 = bits(io.ByteEnable, 9, 9) @[SPI.scala 172:46]
                node _T_146 = and(_T_144, _T_145) @[SPI.scala 172:30]
                node _T_147 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_148 = and(_T_146, _T_147) @[SPI.scala 172:50]
                when _T_148 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[10] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[9] : @[SPI.scala 176:33]
                    _WIRE[10] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_149 = gt(UInt<4>("h09"), PosReg) @[SPI.scala 179:28]
                    node _T_150 = bits(io.ByteEnable, 9, 9) @[SPI.scala 179:53]
                    node _T_151 = and(_T_149, _T_150) @[SPI.scala 179:37]
                    when _T_151 : @[SPI.scala 179:57]
                      node _T_152 = shl(UInt<4>("h09"), 3) @[SPI.scala 180:48]
                      node _T_153 = add(io.Address, _T_152) @[SPI.scala 180:41]
                      node _T_154 = tail(_T_153, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_154 @[SPI.scala 180:27]
                      PosReg <= UInt<4>("h09") @[SPI.scala 181:22]
                      _WIRE[10] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[10] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_155 = eq(UInt<4>("h0a"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_156 = bits(io.ByteEnable, 10, 10) @[SPI.scala 172:46]
                node _T_157 = and(_T_155, _T_156) @[SPI.scala 172:30]
                node _T_158 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_159 = and(_T_157, _T_158) @[SPI.scala 172:50]
                when _T_159 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[11] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[10] : @[SPI.scala 176:33]
                    _WIRE[11] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_160 = gt(UInt<4>("h0a"), PosReg) @[SPI.scala 179:28]
                    node _T_161 = bits(io.ByteEnable, 10, 10) @[SPI.scala 179:53]
                    node _T_162 = and(_T_160, _T_161) @[SPI.scala 179:37]
                    when _T_162 : @[SPI.scala 179:57]
                      node _T_163 = shl(UInt<4>("h0a"), 3) @[SPI.scala 180:48]
                      node _T_164 = add(io.Address, _T_163) @[SPI.scala 180:41]
                      node _T_165 = tail(_T_164, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_165 @[SPI.scala 180:27]
                      PosReg <= UInt<4>("h0a") @[SPI.scala 181:22]
                      _WIRE[11] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[11] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_166 = eq(UInt<4>("h0b"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_167 = bits(io.ByteEnable, 11, 11) @[SPI.scala 172:46]
                node _T_168 = and(_T_166, _T_167) @[SPI.scala 172:30]
                node _T_169 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_170 = and(_T_168, _T_169) @[SPI.scala 172:50]
                when _T_170 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[12] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[11] : @[SPI.scala 176:33]
                    _WIRE[12] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_171 = gt(UInt<4>("h0b"), PosReg) @[SPI.scala 179:28]
                    node _T_172 = bits(io.ByteEnable, 11, 11) @[SPI.scala 179:53]
                    node _T_173 = and(_T_171, _T_172) @[SPI.scala 179:37]
                    when _T_173 : @[SPI.scala 179:57]
                      node _T_174 = shl(UInt<4>("h0b"), 3) @[SPI.scala 180:48]
                      node _T_175 = add(io.Address, _T_174) @[SPI.scala 180:41]
                      node _T_176 = tail(_T_175, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_176 @[SPI.scala 180:27]
                      PosReg <= UInt<4>("h0b") @[SPI.scala 181:22]
                      _WIRE[12] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[12] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_177 = eq(UInt<4>("h0c"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_178 = bits(io.ByteEnable, 12, 12) @[SPI.scala 172:46]
                node _T_179 = and(_T_177, _T_178) @[SPI.scala 172:30]
                node _T_180 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_181 = and(_T_179, _T_180) @[SPI.scala 172:50]
                when _T_181 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[13] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[12] : @[SPI.scala 176:33]
                    _WIRE[13] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_182 = gt(UInt<4>("h0c"), PosReg) @[SPI.scala 179:28]
                    node _T_183 = bits(io.ByteEnable, 12, 12) @[SPI.scala 179:53]
                    node _T_184 = and(_T_182, _T_183) @[SPI.scala 179:37]
                    when _T_184 : @[SPI.scala 179:57]
                      node _T_185 = shl(UInt<4>("h0c"), 3) @[SPI.scala 180:48]
                      node _T_186 = add(io.Address, _T_185) @[SPI.scala 180:41]
                      node _T_187 = tail(_T_186, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_187 @[SPI.scala 180:27]
                      PosReg <= UInt<4>("h0c") @[SPI.scala 181:22]
                      _WIRE[13] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[13] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_188 = eq(UInt<4>("h0d"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_189 = bits(io.ByteEnable, 13, 13) @[SPI.scala 172:46]
                node _T_190 = and(_T_188, _T_189) @[SPI.scala 172:30]
                node _T_191 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_192 = and(_T_190, _T_191) @[SPI.scala 172:50]
                when _T_192 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[14] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[13] : @[SPI.scala 176:33]
                    _WIRE[14] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_193 = gt(UInt<4>("h0d"), PosReg) @[SPI.scala 179:28]
                    node _T_194 = bits(io.ByteEnable, 13, 13) @[SPI.scala 179:53]
                    node _T_195 = and(_T_193, _T_194) @[SPI.scala 179:37]
                    when _T_195 : @[SPI.scala 179:57]
                      node _T_196 = shl(UInt<4>("h0d"), 3) @[SPI.scala 180:48]
                      node _T_197 = add(io.Address, _T_196) @[SPI.scala 180:41]
                      node _T_198 = tail(_T_197, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_198 @[SPI.scala 180:27]
                      PosReg <= UInt<4>("h0d") @[SPI.scala 181:22]
                      _WIRE[14] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[14] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_199 = eq(UInt<4>("h0e"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_200 = bits(io.ByteEnable, 14, 14) @[SPI.scala 172:46]
                node _T_201 = and(_T_199, _T_200) @[SPI.scala 172:30]
                node _T_202 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_203 = and(_T_201, _T_202) @[SPI.scala 172:50]
                when _T_203 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[15] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[14] : @[SPI.scala 176:33]
                    _WIRE[15] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_204 = gt(UInt<4>("h0e"), PosReg) @[SPI.scala 179:28]
                    node _T_205 = bits(io.ByteEnable, 14, 14) @[SPI.scala 179:53]
                    node _T_206 = and(_T_204, _T_205) @[SPI.scala 179:37]
                    when _T_206 : @[SPI.scala 179:57]
                      node _T_207 = shl(UInt<4>("h0e"), 3) @[SPI.scala 180:48]
                      node _T_208 = add(io.Address, _T_207) @[SPI.scala 180:41]
                      node _T_209 = tail(_T_208, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_209 @[SPI.scala 180:27]
                      PosReg <= UInt<4>("h0e") @[SPI.scala 181:22]
                      _WIRE[15] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[15] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                node _T_210 = eq(UInt<4>("h0f"), UInt<1>("h00")) @[SPI.scala 172:22]
                node _T_211 = bits(io.ByteEnable, 15, 15) @[SPI.scala 172:46]
                node _T_212 = and(_T_210, _T_211) @[SPI.scala 172:30]
                node _T_213 = eq(PosReg, UInt<1>("h00")) @[SPI.scala 172:60]
                node _T_214 = and(_T_212, _T_213) @[SPI.scala 172:50]
                when _T_214 : @[SPI.scala 172:68]
                  TempAddress <= io.Address @[SPI.scala 173:27]
                  _WIRE[16] <= UInt<1>("h01") @[SPI.scala 174:28]
                  skip @[SPI.scala 172:68]
                else : @[SPI.scala 176:33]
                  when _WIRE[15] : @[SPI.scala 176:33]
                    _WIRE[16] <= UInt<1>("h01") @[SPI.scala 177:28]
                    skip @[SPI.scala 176:33]
                  else : @[SPI.scala 179:57]
                    node _T_215 = gt(UInt<4>("h0f"), PosReg) @[SPI.scala 179:28]
                    node _T_216 = bits(io.ByteEnable, 15, 15) @[SPI.scala 179:53]
                    node _T_217 = and(_T_215, _T_216) @[SPI.scala 179:37]
                    when _T_217 : @[SPI.scala 179:57]
                      node _T_218 = shl(UInt<4>("h0f"), 3) @[SPI.scala 180:48]
                      node _T_219 = add(io.Address, _T_218) @[SPI.scala 180:41]
                      node _T_220 = tail(_T_219, 1) @[SPI.scala 180:41]
                      TempAddress <= _T_220 @[SPI.scala 180:27]
                      PosReg <= UInt<4>("h0f") @[SPI.scala 181:22]
                      _WIRE[16] <= UInt<1>("h01") @[SPI.scala 182:28]
                      skip @[SPI.scala 179:57]
                    else : @[SPI.scala 184:24]
                      _WIRE[16] <= UInt<1>("h00") @[SPI.scala 185:28]
                      skip @[SPI.scala 184:24]
                SubStateReg <= UInt<3>("h00") @[SPI.scala 188:23]
                skip @[Conditional.scala 40:58]
              else : @[Conditional.scala 39:67]
                node _T_221 = eq(UInt<3>("h00"), SubStateReg) @[Conditional.scala 37:30]
                when _T_221 : @[Conditional.scala 39:67]
                  io.CE <= UInt<1>("h00") @[SPI.scala 191:17]
                  node _T_222 = sub(UInt<3>("h07"), CntReg) @[SPI.scala 192:38]
                  node _T_223 = tail(_T_222, 1) @[SPI.scala 192:38]
                  node _T_224 = dshr(UInt<8>("h02"), _T_223) @[SPI.scala 192:33]
                  node _T_225 = bits(_T_224, 0, 0) @[SPI.scala 192:33]
                  io.MOSI <= _T_225 @[SPI.scala 192:19]
                  node _T_226 = add(CntReg, UInt<1>("h01")) @[SPI.scala 193:28]
                  node _T_227 = tail(_T_226, 1) @[SPI.scala 193:28]
                  CntReg <= _T_227 @[SPI.scala 193:18]
                  node _T_228 = eq(CntReg, UInt<3>("h07")) @[SPI.scala 194:23]
                  when _T_228 : @[SPI.scala 194:32]
                    CntReg <= UInt<1>("h00") @[SPI.scala 195:20]
                    SubStateReg <= UInt<3>("h01") @[SPI.scala 196:25]
                    skip @[SPI.scala 194:32]
                  skip @[Conditional.scala 39:67]
                else : @[Conditional.scala 39:67]
                  node _T_229 = eq(UInt<3>("h01"), SubStateReg) @[Conditional.scala 37:30]
                  when _T_229 : @[Conditional.scala 39:67]
                    node _T_230 = sub(UInt<5>("h017"), CntReg) @[SPI.scala 200:39]
                    node _T_231 = tail(_T_230, 1) @[SPI.scala 200:39]
                    node _T_232 = dshr(TempAddress, _T_231) @[SPI.scala 200:33]
                    node _T_233 = bits(_T_232, 0, 0) @[SPI.scala 200:33]
                    io.MOSI <= _T_233 @[SPI.scala 200:19]
                    node _T_234 = add(CntReg, UInt<1>("h01")) @[SPI.scala 202:28]
                    node _T_235 = tail(_T_234, 1) @[SPI.scala 202:28]
                    CntReg <= _T_235 @[SPI.scala 202:18]
                    node _T_236 = eq(CntReg, UInt<5>("h017")) @[SPI.scala 204:23]
                    when _T_236 : @[SPI.scala 204:32]
                      CntReg <= UInt<1>("h00") @[SPI.scala 205:20]
                      SubStateReg <= UInt<3>("h02") @[SPI.scala 206:25]
                      skip @[SPI.scala 204:32]
                    skip @[Conditional.scala 39:67]
                  else : @[Conditional.scala 39:67]
                    node _T_237 = eq(UInt<3>("h02"), SubStateReg) @[Conditional.scala 37:30]
                    when _T_237 : @[Conditional.scala 39:67]
                      node _T_238 = bits(CntReg, 7, 5) @[SPI.scala 210:41]
                      node _T_239 = bits(_T_238, 1, 0)
                      node _T_240 = bits(CntReg, 4, 0) @[SPI.scala 210:61]
                      node _T_241 = sub(UInt<5>("h01f"), _T_240) @[SPI.scala 210:53]
                      node _T_242 = tail(_T_241, 1) @[SPI.scala 210:53]
                      node _T_243 = dshr(io.WriteData[_T_239], _T_242) @[SPI.scala 210:47]
                      node _T_244 = bits(_T_243, 0, 0) @[SPI.scala 210:47]
                      io.MOSI <= _T_244 @[SPI.scala 210:19]
                      node _T_245 = add(CntReg, UInt<1>("h01")) @[SPI.scala 211:28]
                      node _T_246 = tail(_T_245, 1) @[SPI.scala 211:28]
                      CntReg <= _T_246 @[SPI.scala 211:18]
                      node _T_247 = eq(CntReg, UInt<3>("h07")) @[SPI.scala 213:23]
                      when _T_247 : @[SPI.scala 213:32]
                        node _T_248 = add(PosReg, UInt<1>("h01")) @[SPI.scala 214:30]
                        node _T_249 = tail(_T_248, 1) @[SPI.scala 214:30]
                        PosReg <= _T_249 @[SPI.scala 214:20]
                        CntReg <= UInt<1>("h00") @[SPI.scala 215:20]
                        node _T_250 = add(PosReg, UInt<1>("h01")) @[SPI.scala 217:40]
                        node _T_251 = tail(_T_250, 1) @[SPI.scala 217:40]
                        node _T_252 = dshr(io.ByteEnable, _T_251) @[SPI.scala 217:32]
                        node _T_253 = bits(_T_252, 0, 0) @[SPI.scala 217:32]
                        node _T_254 = eq(_T_253, UInt<1>("h00")) @[SPI.scala 217:18]
                        when _T_254 : @[SPI.scala 217:48]
                          CntReg <= UInt<1>("h00") @[SPI.scala 218:22]
                          io.CE <= UInt<1>("h01") @[SPI.scala 219:21]
                          skip @[SPI.scala 217:48]
                        skip @[SPI.scala 213:32]
                      node _T_255 = shl(PosReg, 3) @[SPI.scala 223:34]
                      node _T_256 = add(CntReg, _T_255) @[SPI.scala 223:24]
                      node _T_257 = tail(_T_256, 1) @[SPI.scala 223:24]
                      node _T_258 = eq(_T_257, UInt<7>("h07f")) @[SPI.scala 223:48]
                      when _T_258 : @[SPI.scala 223:59]
                        CntReg <= UInt<1>("h00") @[SPI.scala 224:20]
                        PosReg <= UInt<1>("h00") @[SPI.scala 225:20]
                        io.WriteCompleted <= UInt<1>("h01") @[SPI.scala 226:31]
                        StateReg <= UInt<3>("h02") @[SPI.scala 227:22]
                        skip @[SPI.scala 223:59]
                      skip @[Conditional.scala 39:67]
              skip @[Conditional.scala 39:67]
    
  module OCPburst_SPI_memory : 
    input clock : Clock
    input reset : UInt<1>
    output io : {OCP_interface : {flip M : {Cmd : UInt<3>, Addr : UInt<24>, Data : UInt<32>, DataValid : UInt<1>, DataByteEn : UInt<4>}, S : {Resp : UInt<2>, Data : UInt<32>, CmdAccept : UInt<1>, DataAccept : UInt<1>}}, CE : UInt<1>, MOSI : UInt<1>, flip MISO : UInt<1>, SR : UInt<4>, CntReg : UInt<8>, SPI_DATA_VALID : UInt<1>, SPI_write_complete : UInt<1>, SPI_CntReg : UInt<8>, SPI_POS_REG : UInt<4>}
    
    io.OCP_interface.S.Resp <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 27:27]
    io.OCP_interface.S.CmdAccept <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 28:32]
    io.OCP_interface.S.DataAccept <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 29:33]
    io.OCP_interface.S.Data <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 30:27]
    inst SPI of SPI @[OCPburst_SPI_memory.scala 33:19]
    SPI.clock <= clock
    SPI.reset <= reset
    SPI.io.WriteData[0] <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 35:25]
    SPI.io.WriteData[1] <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 35:25]
    SPI.io.WriteData[2] <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 35:25]
    SPI.io.WriteData[3] <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 35:25]
    SPI.io.Address <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 38:18]
    SPI.io.ReadEnable <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 39:21]
    SPI.io.WriteEnable <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 40:22]
    SPI.io.ByteEnable <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 41:21]
    io.SPI_DATA_VALID <= SPI.io.DataValid @[OCPburst_SPI_memory.scala 43:21]
    io.SPI_write_complete <= SPI.io.WriteCompleted @[OCPburst_SPI_memory.scala 44:25]
    io.SPI_CntReg <= SPI.io.CntReg @[OCPburst_SPI_memory.scala 45:17]
    io.SPI_POS_REG <= SPI.io.PosReg @[OCPburst_SPI_memory.scala 46:18]
    io.MOSI <= SPI.io.MOSI @[OCPburst_SPI_memory.scala 48:11]
    io.CE <= SPI.io.CE @[OCPburst_SPI_memory.scala 49:9]
    SPI.io.MISO <= io.MISO @[OCPburst_SPI_memory.scala 50:15]
    io.OCP_interface.S.Resp <= UInt<2>("h00") @[OCPburst_SPI_memory.scala 52:27]
    reg StateReg : UInt<3>, clock with : (reset => (reset, UInt<3>("h00"))) @[OCPburst_SPI_memory.scala 55:25]
    io.SR <= StateReg @[OCPburst_SPI_memory.scala 56:9]
    reg CntReg : UInt<8>, clock with : (reset => (reset, UInt<8>("h00"))) @[OCPburst_SPI_memory.scala 58:23]
    io.CntReg <= CntReg @[OCPburst_SPI_memory.scala 59:13]
    reg WriteData : UInt<32>[4], clock @[OCPburst_SPI_memory.scala 61:22]
    reg WriteByteEN : UInt<4>[4], clock @[OCPburst_SPI_memory.scala 62:24]
    node _T = eq(UInt<3>("h00"), StateReg) @[Conditional.scala 37:30]
    when _T : @[Conditional.scala 40:58]
      node _T_1 = eq(UInt<3>("h01"), io.OCP_interface.M.Cmd) @[Conditional.scala 37:30]
      when _T_1 : @[Conditional.scala 40:58]
        CntReg <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 68:18]
        StateReg <= UInt<3>("h02") @[OCPburst_SPI_memory.scala 69:20]
        skip @[Conditional.scala 40:58]
      else : @[Conditional.scala 39:67]
        node _T_2 = eq(UInt<3>("h02"), io.OCP_interface.M.Cmd) @[Conditional.scala 37:30]
        when _T_2 : @[Conditional.scala 39:67]
          CntReg <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 72:18]
          StateReg <= UInt<3>("h01") @[OCPburst_SPI_memory.scala 73:20]
          skip @[Conditional.scala 39:67]
      skip @[Conditional.scala 40:58]
    else : @[Conditional.scala 39:67]
      node _T_3 = eq(UInt<3>("h01"), StateReg) @[Conditional.scala 37:30]
      when _T_3 : @[Conditional.scala 39:67]
        SPI.io.Address <= io.OCP_interface.M.Addr @[OCPburst_SPI_memory.scala 78:22]
        SPI.io.ReadEnable <= UInt<1>("h01") @[OCPburst_SPI_memory.scala 79:25]
        io.OCP_interface.S.CmdAccept <= UInt<1>("h01") @[OCPburst_SPI_memory.scala 80:36]
        when SPI.io.DataValid : @[OCPburst_SPI_memory.scala 82:29]
          CntReg <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 83:16]
          StateReg <= UInt<3>("h03") @[OCPburst_SPI_memory.scala 84:18]
          skip @[OCPburst_SPI_memory.scala 82:29]
        skip @[Conditional.scala 39:67]
      else : @[Conditional.scala 39:67]
        node _T_4 = eq(UInt<3>("h03"), StateReg) @[Conditional.scala 37:30]
        when _T_4 : @[Conditional.scala 39:67]
          node _T_5 = bits(CntReg, 1, 0)
          io.OCP_interface.S.Data <= SPI.io.ReadData[_T_5] @[OCPburst_SPI_memory.scala 88:31]
          node _T_6 = add(CntReg, UInt<1>("h01")) @[OCPburst_SPI_memory.scala 89:24]
          node _T_7 = tail(_T_6, 1) @[OCPburst_SPI_memory.scala 89:24]
          CntReg <= _T_7 @[OCPburst_SPI_memory.scala 89:14]
          SPI.io.ReadEnable <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 90:25]
          io.OCP_interface.S.Resp <= UInt<2>("h01") @[OCPburst_SPI_memory.scala 91:31]
          node _T_8 = eq(CntReg, UInt<2>("h03")) @[OCPburst_SPI_memory.scala 93:19]
          when _T_8 : @[OCPburst_SPI_memory.scala 93:28]
            CntReg <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 94:16]
            StateReg <= UInt<3>("h00") @[OCPburst_SPI_memory.scala 95:18]
            skip @[OCPburst_SPI_memory.scala 93:28]
          skip @[Conditional.scala 39:67]
        else : @[Conditional.scala 39:67]
          node _T_9 = eq(UInt<3>("h02"), StateReg) @[Conditional.scala 37:30]
          when _T_9 : @[Conditional.scala 39:67]
            node _T_10 = eq(CntReg, UInt<1>("h00")) @[OCPburst_SPI_memory.scala 99:19]
            when _T_10 : @[OCPburst_SPI_memory.scala 99:27]
              io.OCP_interface.S.CmdAccept <= UInt<1>("h01") @[OCPburst_SPI_memory.scala 100:38]
              skip @[OCPburst_SPI_memory.scala 99:27]
            else : @[OCPburst_SPI_memory.scala 101:18]
              io.OCP_interface.S.CmdAccept <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 102:38]
              skip @[OCPburst_SPI_memory.scala 101:18]
            io.OCP_interface.S.DataAccept <= UInt<1>("h01") @[OCPburst_SPI_memory.scala 104:37]
            node _T_11 = bits(io.OCP_interface.M.DataValid, 0, 0) @[OCPburst_SPI_memory.scala 106:47]
            when _T_11 : @[OCPburst_SPI_memory.scala 106:51]
              node _T_12 = bits(CntReg, 1, 0)
              WriteData[_T_12] <= io.OCP_interface.M.Data @[OCPburst_SPI_memory.scala 107:27]
              node _T_13 = bits(CntReg, 1, 0)
              WriteByteEN[_T_13] <= io.OCP_interface.M.DataByteEn @[OCPburst_SPI_memory.scala 108:29]
              node _T_14 = add(CntReg, UInt<1>("h01")) @[OCPburst_SPI_memory.scala 109:26]
              node _T_15 = tail(_T_14, 1) @[OCPburst_SPI_memory.scala 109:26]
              CntReg <= _T_15 @[OCPburst_SPI_memory.scala 109:16]
              skip @[OCPburst_SPI_memory.scala 106:51]
            node _T_16 = eq(CntReg, UInt<2>("h03")) @[OCPburst_SPI_memory.scala 112:19]
            when _T_16 : @[OCPburst_SPI_memory.scala 112:28]
              CntReg <= UInt<1>("h00") @[OCPburst_SPI_memory.scala 113:16]
              StateReg <= UInt<3>("h04") @[OCPburst_SPI_memory.scala 114:18]
              skip @[OCPburst_SPI_memory.scala 112:28]
            skip @[Conditional.scala 39:67]
          else : @[Conditional.scala 39:67]
            node _T_17 = eq(UInt<3>("h04"), StateReg) @[Conditional.scala 37:30]
            when _T_17 : @[Conditional.scala 39:67]
              SPI.io.Address <= io.OCP_interface.M.Addr @[OCPburst_SPI_memory.scala 118:22]
              SPI.io.WriteEnable <= UInt<1>("h01") @[OCPburst_SPI_memory.scala 119:26]
              SPI.io.WriteData[0] <= WriteData[0] @[OCPburst_SPI_memory.scala 121:24]
              SPI.io.WriteData[1] <= WriteData[1] @[OCPburst_SPI_memory.scala 121:24]
              SPI.io.WriteData[2] <= WriteData[2] @[OCPburst_SPI_memory.scala 121:24]
              SPI.io.WriteData[3] <= WriteData[3] @[OCPburst_SPI_memory.scala 121:24]
              node _T_18 = shl(WriteByteEN[3], 12) @[OCPburst_SPI_memory.scala 122:44]
              node _T_19 = shl(WriteByteEN[2], 8) @[OCPburst_SPI_memory.scala 122:76]
              node _T_20 = add(_T_18, _T_19) @[OCPburst_SPI_memory.scala 122:58]
              node _T_21 = tail(_T_20, 1) @[OCPburst_SPI_memory.scala 122:58]
              node _T_22 = shl(WriteByteEN[1], 4) @[OCPburst_SPI_memory.scala 122:107]
              node _T_23 = add(_T_21, _T_22) @[OCPburst_SPI_memory.scala 122:89]
              node _T_24 = tail(_T_23, 1) @[OCPburst_SPI_memory.scala 122:89]
              node _T_25 = add(_T_24, WriteByteEN[0]) @[OCPburst_SPI_memory.scala 122:120]
              node _T_26 = tail(_T_25, 1) @[OCPburst_SPI_memory.scala 122:120]
              SPI.io.ByteEnable <= _T_26 @[OCPburst_SPI_memory.scala 122:25]
              when SPI.io.WriteCompleted : @[OCPburst_SPI_memory.scala 124:35]
                io.OCP_interface.S.Resp <= UInt<2>("h01") @[OCPburst_SPI_memory.scala 125:33]
                StateReg <= UInt<3>("h00") @[OCPburst_SPI_memory.scala 126:18]
                skip @[OCPburst_SPI_memory.scala 124:35]
              skip @[Conditional.scala 39:67]
    
